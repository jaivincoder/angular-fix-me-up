
<!-- TODO: 6. Angular ngFor, refactor, and bonus points -->
<!-- TODO: 7. Accessibility, table markup, form control -->

<!--Jaivin Movalia Comment-->

<!--Here I made some changes , such as I ran ngfor for options as there could be many currencies and -->
<!--functions should not be called in the html directly unless they are for events because they could cause issues -->
<!--if they get called again and again when the DOM changes, so had to make changes in filterAccount(), -->
<!--router link implementation and the "for" attribute for the label.  -->
<!--There was no need for an extra section element since it did not have a heading and some other changes.-->

<!--Jaivin Movalia Comment-->

<h1>Account Summary</h1>
<div class="account-summary">
    <table>
      <tr>
        <th scope="col">Account Name</th>
        <th scope="col">Balance</th>
        <th scope="col">
          <form [formGroup]="accountType">
            <label for="accountFilter">Account Type</label>
            <select id="accountFilter" (change)="filterAccounts()" formControlName = "currency" name="accountFilter">
              <option value="">None</option>
              <option [value] = "currency" *ngFor="let currency of currencies"> {{ currency | uppercase }}</option>
            </select>
          </form>
        </th>
      </tr>
      <tr *ngFor="let account of filteredAccountList">
        <!-- TODO: 8. route to detail view -->
        <th><a href="/account/{{account.id}}" >{{account?.id}}</a></th>
        <td>{{account?.balance}}</td>
        <td>{{account?.currency}}</td>
      </tr>
    </table>
</div>
